const translations = {
  ru: {
    welcome: 'ğŸ‘‹ Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² Trading Bot!',
    chooseLanguage: 'ğŸŒ Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº / Choose language:',
    languageChanged: 'âœ… Ğ¯Ğ·Ñ‹Ğº Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½ Ğ½Ğ° Ñ€ÑƒÑÑĞºĞ¸Ğ¹',
    subscriptionRequired: 'ğŸ“¢ Ğ”Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ½Ğ° Ğ½Ğ°Ñˆ ĞºĞ°Ğ½Ğ°Ğ»:',
    checkSubscription: 'âœ… ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞºÑƒ',
    subscriptionSuccess: 'âœ… ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! Ğ’Ñ‹ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ».',
    subscriptionFailed: 'âŒ Ğ’Ñ‹ ĞµÑ‰Ğµ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ°Ğ½Ñ‹ Ğ½Ğ° ĞºĞ°Ğ½Ğ°Ğ». ĞŸĞ¾Ğ´Ğ¿Ğ¸ÑˆĞ¸Ñ‚ĞµÑÑŒ Ğ¸ Ğ¿Ğ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ÑĞ½Ğ¾Ğ²Ğ°.',
    sharePhone: 'ğŸ“± Ğ”Ğ»Ñ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¿Ğ¾Ğ´ĞµĞ»Ğ¸Ñ‚ĞµÑÑŒ ÑĞ²Ğ¾Ğ¸Ğ¼ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ¼ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ°:',
    sharePhoneButton: 'ğŸ“± ĞŸĞ¾Ğ´ĞµĞ»Ğ¸Ñ‚ÑŒÑÑ Ğ½Ğ¾Ğ¼ĞµÑ€Ğ¾Ğ¼',
    phoneSuccess: 'âœ… ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! ĞĞ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½.\n\nĞ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹ Ğ±ÑƒĞ´ĞµÑ‚Ğµ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ°Ñ‚ÑŒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑƒĞ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾ Ñ‚Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ñ… Ğ²Ğ¾Ğ·Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ÑÑ‚ÑÑ….',
    mainMenu: 'ğŸ“Š Ğ“Ğ»Ğ°Ğ²Ğ½Ğ¾Ğµ Ğ¼ĞµĞ½Ñ',
    tradingSignals: 'ğŸ“ˆ Ğ¢Ğ¾Ñ€Ğ³Ğ¾Ğ²Ñ‹Ğµ ÑĞ¸Ğ³Ğ½Ğ°Ğ»Ñ‹',
    portfolio: 'ğŸ’¼ ĞŸĞ¾Ñ€Ñ‚Ñ„ĞµĞ»ÑŒ',
    settings: 'âš™ï¸ ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸',
    support: 'ğŸ’¬ ĞŸĞ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºĞ°',
    language: 'ğŸŒ Ğ¯Ğ·Ñ‹Ğº',
    notifications: 'ğŸ”” Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ',
    profile: 'ğŸ‘¤ ĞŸÑ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ',
    error: 'âŒ ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ¾ÑˆĞ»Ğ° Ğ¾ÑˆĞ¸Ğ±ĞºĞ°. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ Ğ¿Ğ¾Ğ·Ğ¶Ğµ Ğ¸Ğ»Ğ¸ Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ.',
    tooManyAttempts: 'â³ Ğ¡Ğ»Ğ¸ÑˆĞºĞ¾Ğ¼ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ¿Ğ¾Ğ¿Ñ‹Ñ‚Ğ¾Ğº. ĞŸĞ¾Ğ¿Ñ€Ğ¾Ğ±ÑƒĞ¹Ñ‚Ğµ ĞµÑ‰Ğµ Ñ€Ğ°Ğ· Ñ‡ĞµÑ€ĞµĞ· Ğ¼Ğ¸Ğ½ÑƒÑ‚Ñƒ.',
    duplicatePhone: 'âš ï¸ Ğ­Ñ‚Ğ¾Ñ‚ Ğ½Ğ¾Ğ¼ĞµÑ€ Ñ‚ĞµĞ»ĞµÑ„Ğ¾Ğ½Ğ° ÑƒĞ¶Ğµ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµÑ‚ÑÑ Ğ´Ñ€ÑƒĞ³Ğ¸Ğ¼ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¼.\n\nĞ•ÑĞ»Ğ¸ ÑÑ‚Ğ¾ Ğ²Ğ°Ñˆ Ğ½Ğ¾Ğ¼ĞµÑ€, Ğ¾Ğ±Ñ€Ğ°Ñ‚Ğ¸Ñ‚ĞµÑÑŒ Ğ² Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶ĞºÑƒ: @',
    backToMenu: 'â¬…ï¸ ĞĞ°Ğ·Ğ°Ğ´ Ğ² Ğ¼ĞµĞ½Ñ',
    chooseOption: 'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ Ğ¾Ğ¿Ñ†Ğ¸Ñ:',
    comingSoon: 'ğŸš§ Ğ­Ñ‚Ğ° Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ ÑĞºĞ¾Ñ€Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿Ğ½Ğ°!',
    notificationsEnabled: 'âœ… Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹',
    notificationsDisabled: 'ğŸ”• Ğ£Ğ²ĞµĞ´Ğ¾Ğ¼Ğ»ĞµĞ½Ğ¸Ñ Ğ¾Ñ‚ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹',
    yourProfile: 'ğŸ‘¤ *Ğ’Ğ°Ñˆ Ğ¿Ñ€Ğ¾Ñ„Ğ¸Ğ»ÑŒ*\n\nID: `{id}`\nĞ˜Ğ¼Ñ: {name}\nĞ¢ĞµĞ»ĞµÑ„Ğ¾Ğ½: {phone}\nĞ¯Ğ·Ñ‹Ğº: {language}\nĞ”Ğ°Ñ‚Ğ° Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ğ¸: {date}'
  },
  en: {
    welcome: 'ğŸ‘‹ Welcome to Trading Bot!',
    chooseLanguage: 'ğŸŒ Choose language / Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ÑĞ·Ñ‹Ğº:',
    languageChanged: 'âœ… Language changed to English',
    subscriptionRequired: 'ğŸ“¢ To continue, please subscribe to our channel:',
    checkSubscription: 'âœ… Check subscription',
    subscriptionSuccess: 'âœ… Great! You are subscribed to the channel.',
    subscriptionFailed: 'âŒ You are not subscribed to the channel yet. Please subscribe and try again.',
    sharePhone: 'ğŸ“± Share your phone number for personalized notifications:',
    sharePhoneButton: 'ğŸ“± Share phone number',
    phoneSuccess: 'âœ… Great! Phone number saved.\n\nYou will now receive personalized trading notifications.',
    mainMenu: 'ğŸ“Š Main Menu',
    tradingSignals: 'ğŸ“ˆ Trading Signals',
    portfolio: 'ğŸ’¼ Portfolio',
    settings: 'âš™ï¸ Settings',
    support: 'ğŸ’¬ Support',
    language: 'ğŸŒ Language',
    notifications: 'ğŸ”” Notifications',
    profile: 'ğŸ‘¤ Profile',
    error: 'âŒ An error occurred. Please try again later or contact support.',
    tooManyAttempts: 'â³ Too many attempts. Please try again in a minute.',
    duplicatePhone: 'âš ï¸ This phone number is already used by another user.\n\nIf this is your number, please contact support: @',
    backToMenu: 'â¬…ï¸ Back to menu',
    chooseOption: 'Choose an option:',
    comingSoon: 'ğŸš§ This feature is coming soon!',
    notificationsEnabled: 'âœ… Notifications enabled',
    notificationsDisabled: 'ğŸ”• Notifications disabled',
    yourProfile: 'ğŸ‘¤ *Your Profile*\n\nID: `{id}`\nName: {name}\nPhone: {phone}\nLanguage: {language}\nRegistration date: {date}'
  }
};

class Translator {
  constructor() {
    this.translations = translations;
    this.defaultLanguage = 'ru';
  }

  get(key, language = this.defaultLanguage, params = {}) {
    const lang = this.translations[language] || this.translations[this.defaultLanguage];
    let text = lang[key] || this.translations[this.defaultLanguage][key] || key;

    // Replace parameters in text
    Object.keys(params).forEach(param => {
      text = text.replace(`{${param}}`, params[param]);
    });

    return text;
  }

  getLanguageButtons() {
    return {
      inline_keyboard: [
        [
          { text: 'ğŸ‡·ğŸ‡º Ğ ÑƒÑÑĞºĞ¸Ğ¹', callback_data: 'lang_ru' },
          { text: 'ğŸ‡¬ğŸ‡§ English', callback_data: 'lang_en' }
        ]
      ]
    };
  }

  getAvailableLanguages() {
    return Object.keys(this.translations);
  }

  isValidLanguage(lang) {
    return this.translations.hasOwnProperty(lang);
  }
}

module.exports = new Translator();